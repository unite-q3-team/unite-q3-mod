<!doctype html>
<html lang="ru">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Unite Q3 Mod ‚Äî –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è</title>
    <meta name="color-scheme" content="light dark" />
    <style>
      :root {
        --bg: #0f1115;
        --panel: #151923;
        --text: #e6e9ef;
        --muted: #9aa4b2;
        --accent: #6aa3ff;
        --accent-2: #9e7bff;
        --border: #222838;
        --link: #8bd5ff;
        --code-bg: #0b0e14;
        --kbd-bg: #1a2030;
        --shadow: 0 10px 30px rgba(0,0,0,.4);
      }
      @media (prefers-color-scheme: light) {
        :root {
          --bg: #f7f8fb;
          --panel: #ffffff;
          --text: #1f2430;
          --muted: #5c6773;
          --accent: #316cff;
          --accent-2: #6f44ff;
          --border: #e8ebf0;
          --link: #0a84ff;
          --code-bg: #f3f5f8;
          --kbd-bg: #eef1f7;
          --shadow: 0 10px 30px rgba(16,24,40,.08);
        }
      }

      * { box-sizing: border-box; }
      html, body { height: 100%; }
      body {
        margin: 0;
        font: 16px/1.6 system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, Noto Sans, sans-serif;
        color: var(--text);
        background: radial-gradient(1200px 600px at 20% -10%, rgba(106,163,255,.08), transparent 60%),
                    radial-gradient(800px 500px at 80% -20%, rgba(158,123,255,.08), transparent 60%),
                    var(--bg);
      }

      .layout { display: grid; grid-template-columns: 280px 1fr; min-height: 100%; }
      .sidebar {
        position: sticky; top: 0; align-self: start; height: 100vh; overflow: auto;
        padding: 24px 20px; border-right: 1px solid var(--border); background: linear-gradient(180deg, rgba(255,255,255,.02), rgba(0,0,0,0));
      }
      .brand { display:flex; align-items:center; gap:12px; font-weight:700; letter-spacing:.2px; }
      .logo {
        width: 28px; height: 28px; border-radius: 8px; display:grid; place-items:center;
        background: linear-gradient(135deg, var(--accent), var(--accent-2)); color:#fff;
        box-shadow: var(--shadow);
      }
      .search {
        margin: 16px 0 8px; position: relative;
      }
      .search input {
        width: 100%; border-radius: 10px; border: 1px solid var(--border); background: var(--panel);
        color: var(--text); padding: 10px 12px 10px 36px; outline: none;
        transition: border .15s ease;
      }
      .search input::placeholder { color: var(--muted); }
      .search .icon { position:absolute; left: 10px; top: 50%; translate: 0 -50%; color: var(--muted); font-size: 14px; }
      .search kbd {
        position:absolute; right: 8px; top: 50%; translate: 0 -50%;
        background: var(--kbd-bg); border: 1px solid var(--border); border-radius: 6px; padding: 2px 6px; color: var(--muted); font-size: 12px;
      }

      nav { margin-top: 10px; }
      .toc { list-style: none; margin: 0; padding: 0; }
      .toc li { margin: 4px 0; }
      .toc a {
        display: block; padding: 6px 10px; border-radius: 8px; text-decoration: none; color: var(--muted);
      }
      .toc a:hover { background: var(--panel); color: var(--text); }
      .toc .depth-3 a { padding-left: 20px; font-size: 14px; }
      .toc .active > a { color: var(--accent); background: color-mix(in oklab, var(--accent) 12%, transparent); }

      .content {
        padding: 24px clamp(16px, 4vw, 48px) 64px; max-width: 1100px; width: 100%;
      }
      .card {
        background: linear-gradient(180deg, rgba(255,255,255,.02), rgba(0,0,0,0));
        border: 1px solid var(--border); border-radius: 14px; padding: 24px; box-shadow: var(--shadow);
      }
      h1 { font-size: 28px; margin: 0 0 8px; }
      .subtitle { color: var(--muted); margin-bottom: 20px; }

      /* Rendered markdown area */
      .md h2 { margin-top: 32px; border-top: 1px dashed var(--border); padding-top: 24px; }
      .md h3 { margin-top: 24px; }
      .md p { margin: 12px 0; }
      .md ul { margin: 8px 0 8px 22px; }
      .md code { background: var(--code-bg); border: 1px solid var(--border); padding: 0 .35em; border-radius: 6px; font-family: ui-monospace, SFMono-Regular, Menlo, Consolas, monospace; }
      .md pre { background: var(--code-bg); border: 1px solid var(--border); padding: 14px; border-radius: 10px; overflow: auto; }
      .md a { color: var(--link); text-decoration: none; }
      .md a:hover { text-decoration: underline; }
      .md table { width: 100%; border-collapse: collapse; margin: 14px 0; }
      .md th, .md td { border: 1px solid var(--border); padding: 8px 10px; text-align: left; }
      .md blockquote { margin: 10px 0; padding: 10px 14px; border-left: 3px solid var(--accent); background: color-mix(in oklab, var(--accent) 8%, transparent); border-radius: 8px; }

      .toolbar { display:flex; gap:10px; align-items:center; justify-content: space-between; margin-bottom:16px; }
      .toolbar .btn {
        display:inline-flex; align-items:center; gap:8px; padding: 8px 12px; border-radius: 10px; border: 1px solid var(--border); background: var(--panel);
        color: var(--text); text-decoration: none; font-size: 14px;
      }
      .toolbar .btn:hover { border-color: var(--accent); }

      .status { font-size: 14px; color: var(--muted); }

      @media (max-width: 980px) { .layout { grid-template-columns: 1fr; } .sidebar { position: static; height: auto; border-right: 0; border-bottom: 1px solid var(--border); }
      }
    </style>
  </head>
  <body>
    <div class="layout">
      <aside class="sidebar">
        <div class="brand">
          <div class="logo">UQ</div>
          <div>Unite Q3 Mod</div>
        </div>
        <div class="search">
          <span class="icon">üîé</span>
          <input id="search" type="search" placeholder="–ü–æ–∏—Å–∫ –ø–æ —Ä–∞–∑–¥–µ–ª–∞–º‚Ä¶" autocomplete="off" />
          <kbd>/</kbd>
        </div>
        <nav>
          <ul id="toc" class="toc"></ul>
        </nav>
      </aside>
      <main class="content">
        <div class="toolbar">
          <div class="status" id="status">–ó–∞–≥—Ä—É–∑–∫–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏‚Ä¶</div>
          <div>
            <a class="btn" href="../DOCS.MD" target="_blank" rel="noopener">–û—Ç–∫—Ä—ã—Ç—å DOCS.MD</a>
          </div>
        </div>
        <article id="doc" class="card md"></article>
      </main>
    </div>

    <!-- Markdown renderer -->
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
    <script>
      const $doc = document.getElementById('doc');
      const $toc = document.getElementById('toc');
      const $status = document.getElementById('status');
      const $search = document.getElementById('search');

      // Keyboard focus for quick search
      window.addEventListener('keydown', (e) => {
        if (e.key === '/' && !/input|textarea/i.test(document.activeElement.tagName)) {
          e.preventDefault(); $search.focus();
        }
      });

      function slugify(text) {
        return text.toLowerCase()
          .replace(/[`~!@#$%^&*()+=\[\]{}|;:'",.<>/?\\]/g, '')
          .replace(/\s+/g, '-').replace(/-+/g, '-').replace(/^-|-$/g, '');
      }

      function buildTOC() {
        $toc.innerHTML = '';
        const headers = $doc.querySelectorAll('h2, h3');
        const items = [];
        headers.forEach(h => {
          if (!h.id) h.id = slugify(h.textContent);
          const li = document.createElement('li');
          li.className = 'depth-' + h.tagName.slice(1);
          const a = document.createElement('a');
          a.href = '#' + h.id; a.textContent = h.textContent;
          li.appendChild(a); $toc.appendChild(li); items.push({li, a, id: h.id});
        });

        // observer to mark active section
        const observer = new IntersectionObserver((entries) => {
          entries.forEach(e => {
            const idx = items.findIndex(i => i.id === e.target.id);
            if (idx >= 0) {
              items[idx].li.classList.toggle('active', e.isIntersecting && e.intersectionRatio > 0);
            }
          });
        }, {rootMargin: '0px 0px -80% 0px', threshold: [0, 1]});
        $doc.querySelectorAll('h2, h3').forEach(h => observer.observe(h));

        // Simple filter
        $search.addEventListener('input', () => {
          const q = $search.value.trim().toLowerCase();
          items.forEach(({li, a}) => {
            const ok = !q || a.textContent.toLowerCase().includes(q);
            li.style.display = ok ? '' : 'none';
          });
        });
      }

      async function load() {
        try {
          const res = await fetch('../DOCS.MD', {cache: 'no-store'});
          if (!res.ok) throw new Error('HTTP ' + res.status);
          const md = await res.text();
          // Render
          marked.setOptions({
            gfm: true,
            breaks: false,
            headerIds: true,
            mangle: false,
          });
          const html = marked.parse(md);
          $doc.innerHTML = '<h1>Unite Q3 Mod ‚Äî –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è</h1><div class="subtitle">–ê–≤—Ç–æ–≥–µ–Ω–µ—Ä–∞—Ü–∏—è –∏–∑ DOCS.MD</div>' + html;
          $status.textContent = '–ì–æ—Ç–æ–≤–æ';
          buildTOC();
        } catch (err) {
          console.error(err);
          $status.textContent = '–ù–µ —É–¥–∞–ª–æ—Å—å –∑–∞–≥—Ä—É–∑–∏—Ç—å DOCS.MD';
          $doc.innerHTML = '<p>–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞–ª–∏—á–∏–µ —Ñ–∞–π–ª–∞ <code>DOCS.MD</code> –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞.</p>';
        }
      }
      load();
    </script>
  </body>
  </html>


